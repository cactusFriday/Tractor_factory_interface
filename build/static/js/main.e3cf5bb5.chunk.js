(this.webpackJsonptractor_factory_frontend=this.webpackJsonptractor_factory_frontend||[]).push([[0],{18:function(t,e,c){},24:function(t,e,c){},38:function(t,e,c){},47:function(t,e,c){},48:function(t,e,c){},73:function(t,e,c){},75:function(t,e,c){},76:function(t,e,c){},77:function(t,e,c){},78:function(t,e,c){},79:function(t,e,c){},80:function(t,e,c){"use strict";c.r(e);c(8);var s=c(1),n=c.n(s),r=c(39),a=c.n(r),i=(c(47),c(12)),l=c(13),o=c(15),d=c(14),j=(c(48),c(19)),b=c(3),h=c(25),u=c(42),p=c(0),x=["component"],O=function(t){var e=t.component,c=Object(u.a)(t,x);return Object(p.jsx)(b.b,Object(h.a)(Object(h.a)({},c),{},{render:function(t){return localStorage.token?Object(p.jsx)(e,Object(h.a)({},t)):Object(p.jsx)(b.a,{to:{pathname:"/unauthorized"}})}}))},m=c(4),f=c(2),g=c.n(f),v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAT9SURBVHgB7ZkNaJVVGMefa06XTUuzVjnLvgvsm6DIYkUtUlZEUWZihTTKSFol2KcFEYVRGPRFplYqEWWZZqwkoyiijIoIxazMaaNvP+fcdE//f+c/PN3du733Y3eI+8OPe/e+7znneZ/nOec8586sT33au5WyAuXu7GNIwr6aU6lUqxWg/la4RoIHwahunmsHC/GC82H0LstTBRks714LxoMtgN7jNdfnIDA8ajIUfA5WW28IBleB78FPYDQojzgSPAdafY/awX3WW8Lgd4PdYGaGe0+And5Za8BhVmph0GPARvAtODW6Pgw84tnVBmaBYsyfxMaWgXqwDcwA+0f3HgabvGvRy8dZqYTBzgQ/gB87wovPgWC68rQRzAFblRb8e0ua0TM9TNoeN7YfeFyDTo2MnQb+Al+Di0CFQt+il7sXfOMh513ROcp6Ssw5cB54Vd5i7h4KBoF7wHawFpzRkZ8y+nl5+kNQo2dXKpe/BLeAw4vqbQ8TjCvCenmnWQNz+boV/A5+BuMytK0ELyg1GsDJ4CRF6R+wC7wJahkpy1d8Y+YnuE052BLl33IwAtTJe6vlvbIsfQ0BL6mPzzys3/uB08DLSg/2swiMydlwNBgKbgZfyAOxmIOTwSSwWfl5eYI+afQ8RedTcHzkmEvAa7rHdJsNzuJLWRLhwRsU5nRxBeCkqpfXfwVXJfGIDKtSeuwAK5QuKd0/AkxUBJg+SzzppMSDd3nmXWq7wsbcawLXWI5Cm4PAQkXubXBs2n1G9xfwFTghvX2uuw1DVAO2gQdQdb1uuWszmG6hEBoLuMrUoq+dut8MdlsooDqpXxcdswTcANqiawM1YD0GmG15CO0crMfXK8FSUA04iY/2/y9tqVwN5lsuAkuia3+Dx8A7VqBgdAs+poEGcC541MJBgHLLw8PUH4B5ytAzVGvBMn0vhhrBYgupxpp6LqjSvYwe7jaH4QkuY3fg61ZwE3gKTLbwMoWqDsyI/q4F5aACbLKk0irB9fB+/Z3SOrpYKwUX+1Ge53bqodqbqL7SV6M2LZ8ZV4nuUuI/aaLwCDQFLAdXAxbtwyxHeagzrlB7enFN2iO8n9UR2Qx2NTyHO5IGoeEb8TEJrLAQvmfoecvNWM6JORZWHK40A7qwIXHHY7QTtWuDYFE+OrrP89oC7VivgBEJ+uyvNNigPvn9Wd9Tbsb608PBIFkEPdS8J4LbwSrlM7fkqR62V+b0SPCGh8Jlflee9lDoXOqh2qOxLClP8VDwxPoNvOehtkgcufTBKuWJddFkYP1wiPhAnmaNMDhD+wHgYg+1CQ2aomvzIkNZ9HwErvcsFV+uRnP7PN1D8c4SkVXax2Cch1r5fQ8zfi6jk9b2Qg9HqRYZy77O9nCA7fDqBHCwFVtKBZ7nVmowFjBc6m6U0czHp+X5Mr1Qk3KyTn2w+FmgaN3JZ62n5aEWjtdPeutdD+Um8/JJDxN3lYx9iJ5V2/MVoe9AuZVCGGh45KVsalWasHbuqHkPAEuVHjVWSmHAy7zzLI/F3yZ47qvQ80yn8YrGMlBppZSHo/1bWYzdofysiJ4f7CHP+VPAWC/FbxIZjL5AYY9Fr89KN0hGMhWY68nOahlU0FtqIr0IJkSXm8AnFqo7j8aptlB7XIctvsF6SzC62sNvEt2JSx5/VDnQClAx/mXAIoZ1RkV3j4J1oJHVn/WpT/uo/gVA8xlTSc6ePwAAAABJRU5ErkJggg==";c(73),c(18);function y(){var t=Object(b.g)(),e=Object(s.useState)(""),c=Object(m.a)(e,2),n=c[0],r=c[1],a=Object(s.useState)(""),i=Object(m.a)(a,2),l=i[0],o=i[1],d=Object(s.useState)(""),j=Object(m.a)(d,2),h=j[0],u=j[1];return Object(p.jsxs)("div",{children:[Object(p.jsxs)("body",{class:"text-center",children:[Object(p.jsx)("header",{class:"navbar navbar-dark sticky-top flex-md-nowrap p-0 shadow",children:Object(p.jsxs)("span",{style:{textAlign:"left",verticalAlign:"middle",paddingLeft:"10px"},children:[Object(p.jsx)("img",{style:{paddingRight:"10px"},src:v,alt:""}),"\u0410\u041e \xab\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433\u0441\u043a\u0438\u0439 \u0442\u0440\u0430\u043a\u0442\u043e\u0440\u043d\u044b\u0439 \u0437\u0430\u0432\u043e\u0434\xbb"]})}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c={email:n,password:l};g.a.defaults.xsrfCookieName="csrftoken",g.a.defaults.xsrfHeaderName="X-CSRFToken",g.a.defaults.withCredentials=!0,g.a.post("https://tractor-factory-interface.herokuapp.com/api/users/login/",{user:c},{headers:{"Content-Type":"application/json"}}).then((function(e){var c=e.data.user.token,s=e.data.user.group,n=e.data.user.username;localStorage.setItem("token",c),localStorage.setItem("group",s),localStorage.setItem("username",n),t.push("/monitoring")})).catch((function(t){console.log(t.response.data.errors.error[0]),u("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c!")}))},class:"form-signin",style:{paddingTop:"200px"},children:[Object(p.jsx)("h1",{class:"h3 mb-3 font-weight-normal",children:"\u0412\u0445\u043e\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"}),Object(p.jsx)("label",{children:Object(p.jsx)("input",{class:"form-control",style:{marginBottom:"20px"},type:"text",name:"login",placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",value:n,required:"required",autoFocus:"autoFocus",onChange:function(t){return r(t.target.value)}})}),Object(p.jsx)("label",{children:Object(p.jsx)("input",{class:"form-control",style:{marginBottom:"10px"},type:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:l,required:"required",onChange:function(t){return o(t.target.value)}})}),Object(p.jsx)("h5",{style:{textAlign:"center",color:"red"},children:h}),Object(p.jsx)("button",{class:"btn btn-lg btn-primary btn-block float-end",type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})]})]}),Object(p.jsx)("footer",{})]})}var A=c(16),k=c.n(A),C=c(20),w=c(6),S=(c(24),c(75),c.p+"static/media/home.d913d8b9.svg"),_=c.p+"static/media/scoreboard.1f7efbbb.svg",N=c.p+"static/media/events.a259aa0f.svg",T=c.p+"static/media/monitoring.9a6b5dac.svg",E=c.p+"static/media/displays.8c69bbf9.svg",I=c.p+"static/media/planning.7d90aa86.svg",B=c.p+"static/media/reports.07b3aabd.svg",F=(c.p,c.p+"static/media/settings.dfe422ff.svg"),R=c.p+"static/media/people-fill.a284df93.svg";function U(){var t=Object(b.g)();return Object(p.jsx)("nav",{id:"sidebarMenu",class:"col-md-3 col-lg-2 d-md-block sidebar collapse",children:Object(p.jsx)("div",{class:"position-sticky",children:Object(p.jsxs)("ul",{class:"nav flex-column",children:[Object(p.jsx)("li",{class:"nav-item",children:Object(p.jsxs)("a",{class:"nav-link",style:{color:"white"},"aria-current":"page",children:[Object(p.jsx)("img",{style:{paddingRight:"24px"},src:S,alt:""}),"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"]})}),Object(p.jsx)("li",{class:"nav-item",children:Object(p.jsxs)("a",{class:"nav-link",style:{color:"white"},children:[Object(p.jsx)("img",{style:{paddingRight:"24px"},src:_,alt:""}),"\u0422\u0430\u0431\u043b\u043e \u0413\u0422\u041a"]})}),Object(p.jsx)("li",{class:"nav-item",children:Object(p.jsxs)("a",{class:"nav-link",style:{color:"white"},children:[Object(p.jsx)("img",{style:{paddingRight:"24px"},src:N,alt:""}),"\u0422\u0430\u043a\u0442\u044b"]})}),Object(p.jsx)("li",{class:"nav-item",children:Object(p.jsxs)("a",{class:"nav-link",style:{color:"white"},children:[Object(p.jsx)("img",{style:{paddingRight:"24px"},src:T,alt:""}),"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433"]})}),Object(p.jsx)("li",{class:"nav-item",children:Object(p.jsxs)("a",{class:"nav-link",style:{color:"white"},children:[Object(p.jsx)("img",{style:{paddingRight:"24px"},src:E,alt:""}),"\u042d\u043a\u0440\u0430\u043d\u044b"]})}),Object(p.jsx)("li",{class:"nav-item",children:Object(p.jsxs)("div",{class:"d-grid gap-2 btn-group dropend",children:[Object(p.jsxs)("button",{type:"button",class:"btn btn-secondary shadow-none dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",children:[Object(p.jsx)("img",{style:{paddingRight:"24px"},src:I,alt:""}),"\u041f\u043b\u0430\u043d\u044b"]}),Object(p.jsxs)("div",{class:"dropdown-menu",children:[Object(p.jsx)("span",{class:"dropdown-item",children:Object(p.jsx)("b",{children:"\u0414\u043e\u0440\u043e\u0436\u043d\u043e-\u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0442\u0435\u0445\u043d\u0438\u043a\u0430"})}),Object(p.jsx)("a",{class:"dropdown-item",href:"#",children:"\u0413\u043e\u0434\u043e\u0432\u043e\u0439 \u043f\u043b\u0430\u043d"}),Object(p.jsx)("a",{class:"dropdown-item",href:"#",children:"\u041c\u0435\u0441\u044f\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u043d"}),Object(p.jsx)("a",{class:"dropdown-item",href:"#",children:"\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0435 \u043f\u043b\u0430\u043d\u044b"}),Object(p.jsx)("hr",{class:"dropdown-divider"}),Object(p.jsx)("a",{class:"dropdown-item",children:Object(p.jsx)("b",{children:"\u0421\u0435\u043b\u044c\u0441\u043a\u043e\u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u0430\u044f \u0442\u0435\u0445\u043d\u0438\u043a\u0430"})}),Object(p.jsx)("a",{class:"dropdown-item",href:"#",children:"\u0413\u043e\u0434\u043e\u0432\u043e\u0439 \u043f\u043b\u0430\u043d"}),Object(p.jsx)("a",{class:"dropdown-item",href:"#",children:"\u041c\u0435\u0441\u044f\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u043d"}),Object(p.jsx)("a",{class:"dropdown-item",href:"#",children:"\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0435 \u043f\u043b\u0430\u043d\u044b"})]})]})}),Object(p.jsx)("li",{class:"nav-item",children:Object(p.jsxs)("div",{class:"d-grid gap-2 btn-group dropend",children:[Object(p.jsxs)("button",{type:"button",class:"btn btn-secondary shadow-none dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",children:[Object(p.jsx)("img",{style:{paddingRight:"24px",verticalAlign:"middle"},src:B,alt:""}),"\u041e\u0442\u0447\u0435\u0442\u044b"]}),Object(p.jsxs)("div",{class:"dropdown-menu",children:[Object(p.jsx)("a",{class:"dropdown-item",href:"#",children:"\u041f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u044f"}),Object(p.jsx)("a",{class:"dropdown-item",href:"#",children:"\u0412\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b"}),Object(p.jsx)("a",{class:"dropdown-item",href:"#",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0430\u043a\u0442\u043e\u0432"}),Object(p.jsx)("a",{class:"dropdown-item",href:"#",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"})]})]})}),Object(p.jsx)("li",{class:"nav-item",onClick:function(){t.push("/config")},children:Object(p.jsxs)("a",{class:"nav-link",style:{color:"white"},children:[Object(p.jsx)("img",{style:{paddingRight:"24px"},src:F,alt:""}),"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f"]})}),Object(p.jsx)("li",{class:"nav-item",onClick:function(){t.push("/register")},children:Object(p.jsxs)("a",{class:"nav-link",style:{color:"white"},children:[Object(p.jsx)("img",{style:{paddingRight:"24px"},src:F,alt:""}),"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"]})}),Object(p.jsx)("li",{class:"nav-item",onClick:function(){t.push("/users")},children:Object(p.jsxs)("a",{class:"nav-link",style:{color:"white"},children:[Object(p.jsx)("img",{style:{paddingRight:"24px"},src:R,alt:""}),"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"]})})]})})})}var H=c.p+"static/media/logout.27278370.svg";function D(){var t=Object(b.g)();return Object(p.jsxs)("header",{class:"navbar navbar-dark sticky-top flex-md-nowrap p-0 shadow",children:[Object(p.jsxs)("span",{style:{textAlign:"left",verticalAlign:"middle",paddingLeft:"10px"},children:[Object(p.jsx)("img",{style:{paddingRight:"10px"},src:v,alt:""}),"\u0410\u041e \xab\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433\u0441\u043a\u0438\u0439 \u0442\u0440\u0430\u043a\u0442\u043e\u0440\u043d\u044b\u0439 \u0437\u0430\u0432\u043e\u0434\xbb"]}),Object(p.jsx)("button",{class:"navbar-toggler position-absolute d-md-none",type:"button","data-bs-toggle":"collapse","data-bs-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"true","aria-label":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e",children:Object(p.jsx)("img",{style:{paddingRight:"24px"},src:H,alt:""})}),Object(p.jsx)("div",{class:"navbar-nav",children:Object(p.jsx)("div",{class:"nav-item text-nowrap",children:Object(p.jsxs)("a",{class:"nav-link",style:{verticalAlign:"middle"},children:[localStorage.username,Object(p.jsx)("img",{style:{paddingRight:"32px",paddingLeft:"12px",cursor:"pointer"},src:H,onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("group"),localStorage.removeItem("username"),t.push("/")},alt:""})]})})})]})}var P=c.p+"static/media/history.f53d31e0.svg",q=c.p+"static/media/edit.0527f4bc.svg",z=(c(38),c.p+"static/media/close.9a0b3840.svg"),L=function(t){var e=t.isAct,c=t.setUnactive,n=t.data,r=t.key,a=t.handleOnSubmit,i=e?"container-fluid modalAccident active":"container-fluid modalAccident",l=Object(s.useState)(r),o=Object(m.a)(l,2),d=(o[0],o[1],Object(s.useState)(null===n?"":n.accident_class)),j=Object(m.a)(d,2),b=j[0],h=j[1],u=Object(s.useState)(""),x=Object(m.a)(u,2),O=(x[0],x[1],Object(s.useState)(null===n?"":n.description)),f=Object(m.a)(O,2),g=f[0],v=f[1],y=Object(s.useState)(!1),A=Object(m.a)(y,2),k=(A[0],A[1],null===n?"":n.description),C=null===n?"":n.accident_class;return Object(s.useEffect)((function(){v(k),h(C)})),Object(p.jsx)("div",{className:i,onClick:c,children:Object(p.jsxs)("div",{className:"modal__content",onClick:function(t){return t.stopPropagation()},children:[Object(p.jsx)("div",{children:Object(p.jsx)("img",{height:"32px",style:{float:"right",cursor:"pointer"},src:z,alt:"",onClick:c})}),Object(p.jsxs)("form",{onSubmit:a,children:[Object(p.jsxs)("div",{class:"form-group my-3",children:[Object(p.jsx)("label",{for:"PostNumber",children:"\u041d\u043e\u043c\u0435\u0440 \u043f\u043e\u0441\u0442\u0430"}),Object(p.jsx)("input",{type:"text",class:"form-control form-control-modal",id:"PostNumber",name:"post",disabled:!0,value:null===n?"":n.post})]}),Object(p.jsxs)("div",{class:"form-group my-3",children:[Object(p.jsx)("label",{for:"AccidentAppeared",children:"\u0412\u0440\u0435\u043c\u044f \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u044f"}),Object(p.jsx)("input",{type:"datetime-local",class:"form-control form-control-modal",id:"AccidentAppeared",name:"timeAppeared",disabled:!0,value:null===n?"":n.time_appeared.replace("Z","").slice(0,19)})]}),Object(p.jsxs)("div",{class:"form-group my-3",children:[Object(p.jsx)("label",{for:"AccidentSolved",children:"\u0412\u0440\u0435\u043c\u044f \u0443\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b"}),Object(p.jsx)("input",{type:"text",class:"form-control form-control-modal",id:"AccidentSolved",name:"AccidentSolved",disabled:!0,value:null===n?"":null===n.time_solved?"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u043d\u0435 \u0443\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u0430":n.time_solved.replace("T"," ").replace("Z","").replaceAll("-",".").slice(0,19)})]}),Object(p.jsxs)("div",{class:"form-group my-3",children:[Object(p.jsx)("label",{for:"AccidentClass",children:"\u041a\u043b\u0430\u0441\u0441 \u043f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u044f"}),Object(p.jsxs)("select",{class:"form-control form-control-modal",id:"AccidentClass",name:"accidentClass",value:b,onChange:function(t){C=t.target.value,n.accident_class=t.target.value,h(t.target.value)},children:[Object(p.jsx)("option",{children:"1"}),Object(p.jsx)("option",{children:"2"}),Object(p.jsx)("option",{children:"3"})]})]}),Object(p.jsxs)("div",{class:"form-group my-3",children:[Object(p.jsx)("label",{for:"AccidentDescription",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(p.jsx)("textarea",{class:"form-control form-control-modal",id:"AccidentDescription",rows:"3",name:"description",value:g,onChange:function(t){k=t.target.value,n.description=t.target.value,v(t.target.value)}})]}),Object(p.jsx)("button",{type:"submit",class:"btn btn-primary",onClick:c,children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})]})]})})},W=(c(76),function(t){var e=t.isAct,c=t.setUnactive,s=t.data,n=t.accidentsClasses,r=e?"container-fluid modalAccident active":"container-fluid modalAccident";return Object(p.jsx)("div",{className:r,onClick:c,style:{position:"fixed",overflowY:"scroll"},children:Object(p.jsxs)("div",{className:"container modal__content",onClick:function(t){return t.stopPropagation()},children:[Object(p.jsx)("div",{children:Object(p.jsx)("img",{height:"32px",style:{marginTop:"10px",float:"right",cursor:"pointer"},src:z,alt:"",onClick:c})}),Object(p.jsx)("div",{class:"table-responsive",style:{height:"80vh",overflowY:"auto"},children:Object(p.jsxs)("table",{class:"table table-bordered table-hover table-sm",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{class:"text-center",children:"\u041d\u043e\u043c\u0435\u0440 \u043f\u043e\u0441\u0442\u0430"}),Object(p.jsx)("th",{class:"text-center",children:"\u0422\u0438\u043f \u043f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u044f"}),Object(p.jsx)("th",{class:"text-center",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(p.jsx)("th",{class:"text-center",children:"\u0412\u0440\u0435\u043c\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})]})}),Object(p.jsxs)("tbody",{className:"Table-body",children:[Object(p.jsx)("th",{colspan:"4",children:Object(p.jsx)("h5",{style:{textAlign:"center",color:"Highlight"},children:Object(p.jsx)("b",{children:"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435"})})}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:null===s?"":s.post}),Object(p.jsx)("td",{children:null===s||"undefined"==typeof n[s.accident_class-1]?"":n[s.accident_class-1].name}),Object(p.jsx)("td",{rows:"3",children:null===s?"":s.description}),Object(p.jsx)("td",{children:null===s?"":s.time_appeared.replace("T"," ").replace("T"," ").replace("Z","").replaceAll("-",".").slice(0,19)})]}),Object(p.jsx)("th",{colspan:"4",children:Object(p.jsx)("h5",{style:{textAlign:"center",color:"Highlight"},children:Object(p.jsx)("b",{children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439"})})}),Object(p.jsx)("tr",{}),null===s||null===s.accident_history?Object(p.jsx)("th",{colspan:"4",style:{textAlign:"center"},children:Object(p.jsx)("h6",{children:"\u041d\u0435\u0442 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439..."})}):s.accident_history.map((function(t,e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:s.post}),Object(p.jsx)("td",{children:n[t.accident_class-1]}),Object(p.jsx)("td",{children:t.description}),Object(p.jsx)("td",{children:t.time_changed.replace("T"," ").replace("Z","").replaceAll("-",".").slice(0,19)})]})}))]})]})})]})})}),M=function(t){Object(o.a)(c,t);var e=Object(d.a)(c);function c(){var t;return Object(i.a)(this,c),(t=e.call(this)).setUnactiveEdit=function(){t.setState({edit:!1})},t.setUnactiveHistory=function(){t.setState({history:!1})},t.handleEditSubmit=function(e){e.preventDefault();var c=e.target,s={accident_id:parseInt(t.state.key),accident_class:parseInt(c.accidentClass.value),description:c.AccidentDescription.value};console.log(JSON.stringify(s)),g.a.defaults.xsrfCookieName="csrftoken",g.a.defaults.xsrfHeaderName="X-CSRFToken",g.a.defaults.withCredentials=!0,g.a.post("https://tractor-factory-interface.herokuapp.com/api/accident/history/",JSON.stringify(s),{headers:{Authorization:"Token ".concat(localStorage.token),"Content-Type":"application/json"}}).then((function(t){console.log(t),console.log(t.data)})).catch((function(t){console.log(t)}))},t.state={loading:!0,accidents:null,data:null,data_history:null,key:null,edit:!1,history:!1},t.setActiveEdit=t.setActiveEdit.bind(Object(w.a)(t)),t.setUnactiveEdit=t.setUnactiveEdit.bind(Object(w.a)(t)),t.setActiveHistory=t.setActiveHistory.bind(Object(w.a)(t)),t.setUnactiveHistory=t.setUnactiveHistory.bind(Object(w.a)(t)),t}return Object(l.a)(c,[{key:"componentDidMount",value:function(){var t=this;fetch("https://tractor-factory-interface.herokuapp.com/api/accident/").then((function(t){return t.json()})).then((function(e){t.setState({loading:!1,accidents:e})}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.intervalGet)}},{key:"setActiveEdit",value:function(t){var e=Object.values(this.state.accidents.results);this.setState({edit:!0,key:t,data:e[t]})}},{key:"setActiveHistory",value:function(t){var e=this;fetch("https://tractor-factory-interface.herokuapp.com/api/accident/").then((function(t){return t.json()})).then((function(c){e.setState({loading:!1,history:!0,key:t,data_history:c.results[t]})}))}},{key:"render",value:function(){var t=this,e="undefined"==typeof this.props.accidents?null:this.props.accidents,c=this.props.accidentClasses;return console.log(c[0]),console.log(e),Object(p.jsxs)(n.a.Fragment,{children:[Object(p.jsxs)("table",{className:"Table-Accidents",style:{borderColor:"black"},class:"table table-striped table-sm table-bordered",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{class:"text-center",children:"\u041d\u043e\u043c\u0435\u0440 \u043f\u043e\u0441\u0442\u0430"}),Object(p.jsx)("th",{class:"text-center",children:"\u0422\u0438\u043f \u043f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u044f"}),Object(p.jsx)("th",{class:"text-center",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(p.jsx)("th",{class:"text-center",children:"\u0412\u0440\u0435\u043c\u044f \u0444\u0438\u043a\u0441\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b"}),Object(p.jsx)("th",{class:"text-center",children:"\u0412\u0440\u0435\u043c\u044f \u0443\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b"}),Object(p.jsx)("th",{class:"text-center"})]})}),Object(p.jsx)("tbody",{className:"Table-body",children:null==e?Object(p.jsx)("p",{children:"Page is Loading ..."}):e.map((function(e,s){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.post}),Object(p.jsx)("td",{children:"undefined"==typeof c[e.accident_class-1]?"":c[e.accident_class-1].name}),Object(p.jsx)("td",{children:e.description}),Object(p.jsx)("td",{children:e.time_appeared.replace("T"," ").replace("Z","").replaceAll("-",".").slice(0,19)}),Object(p.jsx)("td",{children:null===e.time_solved?"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u043d\u0435 \u0443\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u0430":e.time_solved.replace("T"," ").replace("Z","").replaceAll("-",".").slice(0,19)}),Object(p.jsxs)("td",{style:{position:"sticky",right:"0px"},children:[Object(p.jsx)("img",{src:P,alt:"",onClick:function(){return t.setActiveHistory(s)}}),Object(p.jsx)("img",{src:q,alt:"",onClick:function(){return t.setActiveEdit(s)}})]})]})}))})]}),Object(p.jsx)(L,{isAct:this.state.edit,setUnactive:this.setUnactiveEdit,data:this.state.data,handleOnSubmit:this.handleEditSubmit},this.state.key),Object(p.jsx)(W,{isAct:this.state.history,setUnactive:this.setUnactiveHistory,data:this.state.data_history,accidentsClasses:c})]})}}]),c}(s.Component),Y=function(t){Object(o.a)(c,t);var e=Object(d.a)(c);function c(){var t;return Object(i.a)(this,c),(t=e.call(this)).handleOnSubmit=function(e){e.preventDefault();var c=e.target,s=(parseInt(c.post.placeholder),t.props.accident.id),n=t.props.accidentClasses[c.accidentClass.selectedIndex].number,r={accident_class:parseInt(n),description:c.description.value};g.a.defaults.xsrfCookieName="csrftoken",g.a.defaults.xsrfHeaderName="X-CSRFToken",g.a.defaults.withCredentials=!0;var a="https://tractor-factory-interface.herokuapp.com/api/accident/".concat(s,"/");g.a.patch(a,JSON.stringify(r),{headers:{Authorization:"Token ".concat(localStorage.token),"Content-Type":"application/json"}}).then((function(e){t.props.setActive(!1)})).catch((function(e){t.props.setError("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u044f")}))},t.state={error:""},t}return Object(l.a)(c,[{key:"convertTime",value:function(t){return[null==t.time_appeared?"":t.time_appeared.slice(0,19),null==t.time_solved?"":t.time_solved.slice(0,19)]}},{key:"render",value:function(){var t=this.props.isActive,e=this.props.setActive,c=this.props.accident,s=this.props.accidentClasses,r=null;return null!==c&&(r=this.convertTime(c)),Object(p.jsx)("div",{className:t?"container-fluid modalAccident active":"container-fluid modalAccident",onClick:function(){return e(!1)},children:Object(p.jsxs)("div",{className:"modal__content container-sm",onClick:function(t){return t.stopPropagation()},children:[Object(p.jsx)("div",{children:Object(p.jsx)("img",{height:"32px",style:{marginTop:"10px",float:"right",cursor:"pointer"},src:z,alt:"",onClick:function(){return e(!1)}})}),null==c?Object(p.jsx)(n.a.Fragment,{children:Object(p.jsx)("h3",{children:"Loading..."})}):Object(p.jsxs)(n.a.Fragment,{children:[Object(p.jsxs)("form",{onSubmit:this.handleOnSubmit,children:[Object(p.jsxs)("div",{class:"form-group my-3",children:[Object(p.jsx)("label",{for:"PostNumber",children:"\u041d\u043e\u043c\u0435\u0440 \u043f\u043e\u0441\u0442\u0430"}),Object(p.jsx)("input",{type:"text",class:"form-control form-control-modal",id:"PostNumber",name:"post",disabled:!0,placeholder:null==c?null:c.post})]}),Object(p.jsxs)("div",{class:"form-group my-3",children:[Object(p.jsx)("label",{for:"AccidentAppeared",children:"\u0412\u0440\u0435\u043c\u044f \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u044f"}),Object(p.jsx)("input",{type:"datetime-local",class:"form-control form-control-modal",id:"AccidentAppeared",name:"timeAppeared",value:null==r[0]?"":r[0],disabled:!0})]}),Object(p.jsxs)("div",{class:"form-group my-3",children:[Object(p.jsx)("label",{for:"AccidentSolved",children:"\u0412\u0440\u0435\u043c\u044f \u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u044f"}),Object(p.jsx)("input",{type:"datetime-local",class:"form-control form-control-modal",id:"AccidentSolved",name:"timeSolved",value:null==r[1]?"":r[1],disabled:!0})]}),Object(p.jsxs)("div",{class:"form-group my-3",children:[Object(p.jsx)("label",{for:"AccidentClass",children:"\u041a\u043b\u0430\u0441\u0441 \u043f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u044f"}),Object(p.jsx)("select",{class:"form-control form-control-modal",id:"AccidentClass",name:"accidentClass",children:s.map((function(t,e){return Object(p.jsx)("option",{children:"\u041a\u043b\u0430\u0441\u0441 "+String(t.number)+": "+String(t.name)})}))})]}),Object(p.jsxs)("div",{class:"form-group my-3",children:[Object(p.jsx)("label",{for:"AccidentDescription",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(p.jsx)("textarea",{class:"form-control form-control-modal",id:"AccidentDescription",rows:"3",name:"description"})]}),Object(p.jsx)("button",{type:"submit",class:"btn btn-primary",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]}),"undefined"===this.props.error?null:Object(p.jsx)("div",{children:Object(p.jsx)("p",{style:{color:"red",fontWeight:"bold"},children:this.props.error})})]})]})})}}]),c}(s.Component),V=(c(77),function(t){var e=t.accidentClasses,c=Object(s.useState)(null),r=Object(m.a)(c,2),a=r[0],i=r[1],l=Object(s.useState)(!1),o=Object(m.a)(l,2),d=o[0],j=o[1],b=Object(s.useState)(null),h=Object(m.a)(b,2),u=h[0],x=h[1],O=Object(s.useState)(null),f=Object(m.a)(O,2),g=f[0],v=f[1],y=function(){var t=Object(C.a)(k.a.mark((function t(){var e,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tractor-factory-interface.herokuapp.com/api/conveyor-state/");case 2:return e=t.sent,t.next=5,e.json();case 5:c=t.sent,i(c);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function A(t){var e="https://tractor-factory-interface.herokuapp.com/api/accident/?post=".concat(t,"&last=True");fetch(e).then((function(t){return t.json()})).then((function(t){var e=t.results[0];x(e)})),j(!0),v(null)}return Object(s.useEffect)((function(){var t=setInterval(y,2e3);return function(){return clearInterval(t)}}),[]),Object(p.jsxs)(n.a.Fragment,{children:[Object(p.jsxs)("table",{className:"App-Conveyor",style:{backgroundColor:"#E6E8EB",fontSize:"18px"},children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{style:{width:"1%"}}),Object(p.jsx)("td",{style:{width:"7%"},children:"0"}),Object(p.jsx)("td",{style:{width:"7%"},children:"1"}),Object(p.jsx)("td",{style:{width:"7%"},children:"2"}),Object(p.jsx)("td",{style:{width:"7%"},children:"3"}),Object(p.jsx)("td",{style:{width:"7%"},children:"4"}),Object(p.jsx)("td",{style:{width:"7%"},children:"5"}),Object(p.jsx)("td",{style:{width:"7%"},children:"6"}),Object(p.jsx)("td",{style:{width:"7%"},children:"7"}),Object(p.jsx)("td",{style:{width:"7%"},children:"8"}),Object(p.jsx)("td",{style:{width:"7%"},children:"9"}),Object(p.jsx)("td",{style:{width:"7%"},children:"10"}),Object(p.jsx)("td",{style:{width:"7%"},children:"11"}),Object(p.jsx)("td",{style:{width:"7%"},children:"12"}),Object(p.jsx)("td",{style:{width:"7%"},children:"13"}),Object(p.jsx)("td",{style:{width:"1%"}})]}),Object(p.jsxs)(n.a.Fragment,{children:[Object(p.jsxs)("tr",{style:{backgroundColor:"#09AC54"},children:[Object(p.jsx)("td",{style:{paddingBottom:"6.3%",height:"0",backgroundColor:"#E6E8EB"}}),null===a?Object(p.jsxs)(n.a.Fragment,{children:[Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{})]}):a.slice(0,a.length/2).map((function(t,e){return Object(p.jsx)("td",{class:t.buttons_set[0].status_block,onClick:"error"===t.buttons_set[0].status_block?function(){return A(t.post_number)}:null},t.post_number)})),Object(p.jsx)("td",{style:{width:"1%",backgroundColor:"#E6E8EB"}})]}),Object(p.jsxs)("tr",{style:{backgroundColor:"#09AC54"},children:[Object(p.jsx)("td",{style:{paddingBottom:"6.3%",height:"0",backgroundColor:"#E6E8EB"}}),null===a?Object(p.jsxs)(n.a.Fragment,{children:[Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{})]}):a.slice(a.length/2,a.length).map((function(t,e){return Object(p.jsx)("td",{class:t.buttons_set[0].status_block,onClick:"error"===t.buttons_set[0].status_block?function(){return A(t.post_number)}:null},t.post_number)})),Object(p.jsx)("td",{style:{width:"1%",backgroundColor:"#E6E8EB"}})]})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{style:{width:"1%",backgroundColor:"#E6E8EB"}}),Object(p.jsx)("td",{children:"14"}),Object(p.jsx)("td",{children:"15"}),Object(p.jsx)("td",{children:"16"}),Object(p.jsx)("td",{children:"17"}),Object(p.jsx)("td",{children:"18"}),Object(p.jsx)("td",{children:"19"}),Object(p.jsx)("td",{children:"20"}),Object(p.jsx)("td",{children:"21"}),Object(p.jsx)("td",{children:"22"}),Object(p.jsx)("td",{children:"23"}),Object(p.jsx)("td",{children:"24"}),Object(p.jsx)("td",{children:"25"}),Object(p.jsx)("td",{children:"26"}),Object(p.jsx)("td",{children:"27"}),Object(p.jsx)("td",{style:{width:"1%",backgroundColor:"#E6E8EB"}})]})]}),Object(p.jsx)(Y,{isActive:d,setActive:j,accident:u,setError:v,error:g,accidentClasses:e})]})}),G=c.p+"static/media/arrow_forward.5f8e57a2.svg",J="https://tractor-factory-interface.herokuapp.com/api/accident/",X=function(t){Object(o.a)(c,t);var e=Object(d.a)(c);function c(){var t;return Object(i.a)(this,c),(t=e.call(this)).getAccidents=t.getAccidents.bind(Object(w.a)(t)),t.state={loading:!0,accidents:[],accidentClasses:[]},t}return Object(l.a)(c,[{key:"componentDidMount",value:function(){var t=this;fetch(J).then((function(t){return t.json()})).then((function(e){t.setState({accidents:e.results})})),fetch("https://tractor-factory-interface.herokuapp.com/api/accident/classes/").then((function(t){return t.json()})).then((function(e){t.setState({loading:!1,accidentClasses:e.results})})),this.intervalGetAccidents=setInterval(this.getAccidents,2500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalGetAccidents)}},{key:"getAccidents",value:function(){var t=Object(C.a)(k.a.mark((function t(){var e,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(J);case 2:return e=t.sent,t.next=5,e.json();case 5:c=t.sent,this.setState({accidents:c.results});case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("body",{children:[Object(p.jsx)(D,{}),Object(p.jsxs)("div",{class:"row",children:[Object(p.jsx)("div",{children:Object(p.jsx)(U,{})}),Object(p.jsxs)("main",{class:"col-md-9 ms-sm-auto col-lg-10 px-md-4",children:[Object(p.jsxs)("div",{class:"chartjs-size-monitor",children:[Object(p.jsx)("div",{class:"chartjs-size-monitor-expand",children:Object(p.jsx)("div",{class:""})}),Object(p.jsx)("div",{class:"chartjs-size-monitor-shrink",children:Object(p.jsx)("div",{class:""})})]}),Object(p.jsx)("h1",{children:"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433"}),Object(p.jsx)("table",{class:"table",style:{backgroundColor:"none",fontSize:"18px",marginTop:"10px"},children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{style:{width:"3%",verticalAlign:"middle",border:"none"},children:Object(p.jsx)("img",{src:G,alt:""})}),Object(p.jsx)("td",{style:{border:"none"},children:Object(p.jsx)(V,{accidentClasses:this.state.accidentClasses})}),Object(p.jsx)("td",{style:{width:"3%",verticalAlign:"middle",border:"none"},children:Object(p.jsx)("img",{src:G,alt:""})})]})}),Object(p.jsxs)("div",{className:"App-Accidents",class:"table-responsive",children:[Object(p.jsx)("h1",{style:{textAlign:"left",verticalAlign:"middle",lineHeight:"30px",marginBottom:"30px",fontWeight:"600"},children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0445 \u043f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u0439"}),Object(p.jsx)("div",{style:{height:"40vh",overflowY:"auto"},children:Object(p.jsx)(M,{accidents:this.state.accidents,accidentClasses:this.state.accidentClasses})})]})]})]})]}),Object(p.jsx)("footer",{})]})}}]),c}(s.Component),Z=X;c(78);function Q(){var t=!0,e=Object(s.useState)(""),c=Object(m.a)(e,2),n=c[0],r=c[1],a=Object(s.useState)(""),i=Object(m.a)(a,2),l=i[0],o=i[1],d=Object(s.useState)(""),j=Object(m.a)(d,2),b=j[0],h=j[1],u=Object(s.useState)(""),x=Object(m.a)(u,2),O=x[0],f=x[1],v=Object(s.useState)(""),y=Object(m.a)(v,2),A=y[0],k=y[1],C=Object(s.useState)(""),w=Object(m.a)(C,2),S=w[0];w[1];return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("header",{className:"App-header",children:Object(p.jsx)(D,{})}),Object(p.jsx)("main",{className:"App-main",children:Object(p.jsxs)("div",{className:"App-InputForm",children:[Object(p.jsx)("h3",{className:"Title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435"}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g.a.defaults.xsrfCookieName="csrftoken",g.a.defaults.xsrfHeaderName="X-CSRFToken",g.a.defaults.withCredentials=!0,O!==A&&(t=!1);var c={username:n,email:b,password:O,group:l},s=localStorage.getItem("token");g.a.post("https://tractor-factory-interface.herokuapp.com/api/users/",{user:c},{headers:{"Content-Type":"application/json",Authorization:"Token ".concat(s)}}).then((function(t){console.log(t),console.log(t.data)}))},children:[Object(p.jsx)("label",{children:Object(p.jsx)("input",{className:"App-Input",type:"text",name:"username",placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",value:n,required:"required",autofocus:"autofocus",onChange:function(t){return r(t.target.value)}})}),Object(p.jsx)("label",{children:Object(p.jsx)("input",{className:"App-Input",type:"email",name:"email",placeholder:"E-mail",value:b,required:"required",onChange:function(t){return h(t.target.value)}})}),Object(p.jsx)("label",{children:Object(p.jsx)("input",{className:"App-Input",type:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:O,required:"required",onChange:function(t){return f(t.target.value)}})}),Object(p.jsx)("label",{children:Object(p.jsx)("input",{className:"App-Input",type:"password",name:"password",placeholder:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f",value:A,required:"required",onChange:function(t){return k(t.target.value)}})}),Object(p.jsx)("div",{children:t?null:Object(p.jsx)("p",{children:"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"})}),Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"\u0413\u0440\u0443\u043f\u043f\u0430:"}),Object(p.jsxs)("select",{onChange:function(t){return o(t.target.value)},children:[Object(p.jsx)("option",{value:"Admin",children:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"}),Object(p.jsx)("option",{value:"Master",children:"\u041c\u0430\u0441\u0442\u0435\u0440"}),Object(p.jsx)("option",{value:"Guest",children:"\u0413\u043e\u0441\u0442\u044c"})]})]}),Object(p.jsx)("button",{className:"App-Button",type:"submit",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(p.jsx)("h5",{style:{textAlign:"center",color:"red"},children:S})]})]})}),Object(p.jsx)("footer",{})]})}var K=function(){var t=Object(b.g)();return Object(p.jsxs)("div",{style:{textAlign:"center",verticalAlign:"middle",marginTop:"100px"},children:[Object(p.jsx)("h1",{children:"\u0412\u044b \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443!"}),Object(p.jsx)("button",{class:"btn btn-primary",style:{marginTop:"50px"},onClick:function(){t.push("/")},children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"})]})},$=(c(79),function(t){Object(o.a)(c,t);var e=Object(d.a)(c);function c(){var t;return Object(i.a)(this,c),(t=e.call(this)).state={isError:!1},t.onSubmitClick=t.onSubmitClick.bind(Object(w.a)(t)),t.onResetClick=t.onResetClick.bind(Object(w.a)(t)),t.checkOnError=t.checkOnError.bind(Object(w.a)(t)),g.a.defaults.xsrfCookieName="csrftoken",g.a.defaults.xsrfHeaderName="X-CSRFToken",g.a.defaults.withCredentials=!0,t}return Object(l.a)(c,[{key:"componentDidMount",value:function(){this.getConfig(),this.interval=setInterval(this.checkOnError,2e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"getConfig",value:function(){var t=this;g.a.get("https://tractor-factory-interface.herokuapp.com/api/conveyor-state/buttons-posts/").then((function(e){var c=document.getElementById("error-header");null!==c&&c.parentNode.removeChild(c),t.fillInputsWithConfig(e.data.results),t.saveToLocalStorage(e.data.results),t.setState({isError:!1})})).catch((function(e){(t.setState({isError:!0}),null===document.getElementById("error-header"))&&document.getElementById("btns-container").insertAdjacentHTML("afterend",'<h3 id="error-header" style="color: red; margin-top:35px">\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438</h3>')}))}},{key:"postConfig",value:function(t){g.a.post("https://tractor-factory-interface.herokuapp.com/api/conveyor-state/buttons-posts/update-buttons-configuration/",JSON.stringify(t),{headers:{Authorization:"Token ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}},{key:"saveToLocalStorage",value:function(t){null!==localStorage.getItem("posts-config")&&localStorage.removeItem("posts-config"),localStorage.setItem("posts-config",JSON.stringify(t))}},{key:"onSubmitClick",value:function(){for(var t=document.getElementsByTagName("input"),e={},c=0;c<t.length;c++)e[c]={},e[c].post=c,e[c].block=t[c].value;var s=this.convertPostsNumbersFromInputs(e);this.saveToLocalStorage(s),this.postConfig(s)}},{key:"onResetClick",value:function(){for(var t=document.getElementsByTagName("input"),e=0;e<t.length;e++)t[e].value=""}},{key:"convertPostsNumbersFromInputs",value:function(t){Object.keys(t).length;var e={},c=[];for(var s in t){var n=String(t[s].block);c.indexOf(n)<0?e[n]={buttons_block_number:n,posts:[{post_number:parseInt(s)}]}:e[n].posts.push({post_number:parseInt(s)}),c.push(n)}var r=[];for(var a in e)r.push(e[a]);return console.log(r),r}},{key:"fillInputsWithConfig",value:function(t){for(var e=document.getElementsByTagName("input"),c=Array.prototype.slice.call(e),s=0;s<t.length;s++)for(var n=t[s].buttons_block_number,r=t[s].posts,a=0;a<r.length;a++)c[r[a].post_number].value=n}},{key:"checkOnError",value:function(){!0===this.state.isError?this.getConfig():clearInterval(this.interval)}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("header",{className:"App-header",children:Object(p.jsx)(D,{})}),Object(p.jsx)("main",{className:"App-main",children:Object(p.jsxs)("div",{class:"container",children:[Object(p.jsx)("div",{class:"table-responsive",children:Object(p.jsxs)("table",{class:"table table-bordered table-config",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"col",children:"\u041f\u043e\u0441\u0442"}),Object(p.jsx)("th",{scope:"col",children:"0"}),Object(p.jsx)("th",{scope:"col",children:"1"}),Object(p.jsx)("th",{scope:"col",children:"2"}),Object(p.jsx)("th",{scope:"col",children:"3"}),Object(p.jsx)("th",{scope:"col",children:"4"}),Object(p.jsx)("th",{scope:"col",children:"5"}),Object(p.jsx)("th",{scope:"col",children:"6"}),Object(p.jsx)("th",{scope:"col",children:"7"}),Object(p.jsx)("th",{scope:"col",children:"8"}),Object(p.jsx)("th",{scope:"col",children:"9"}),Object(p.jsx)("th",{scope:"col",children:"10"}),Object(p.jsx)("th",{scope:"col",children:"11"}),Object(p.jsx)("th",{scope:"col",children:"12"}),Object(p.jsx)("th",{scope:"col",children:"13"})]})}),Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"row",children:"\u041f\u0440\u0430\u0432\u0430\u044f \u0441\u0442\u043e\u0440\u043e\u043d\u0430"}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"row",children:"\u041b\u0435\u0432\u0430\u044f \u0441\u0442\u043e\u0440\u043e\u043d\u0430"}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})})]})]})]})}),Object(p.jsxs)("div",{class:"container",id:"btns-container",children:[Object(p.jsx)("button",{type:"button",class:"btn btn-primary btn-config",onClick:this.onSubmitClick,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435"}),Object(p.jsx)("button",{type:"button",class:"btn btn-dark btn-config btn-config-dark",onClick:this.onResetClick,children:"\u0421\u0431\u0440\u043e\u0441"})]})]})}),Object(p.jsx)("footer",{})]})}}]),c}(s.Component)),tt="http://127.0.0.1:8000/api/users/all/",et=function(t){Object(o.a)(c,t);var e=Object(d.a)(c);function c(){var t;return Object(i.a)(this,c),(t=e.call(this)).handleChangeGroupUser=function(t,e,c){t.preventDefault();var s={token:e,group:c};g.a.defaults.xsrfCookieName="csrftoken",g.a.defaults.xsrfHeaderName="X-CSRFToken",g.a.defaults.withCredentials=!0;var n=localStorage.getItem("token");g.a.post("http://127.0.0.1:8000/api/user/group/",{user:s},{headers:{Authorization:"Token ".concat(n),"Content-Type":"application/json"}}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},t.getUsers=t.getUsers.bind(Object(w.a)(t)),t.state={users:[]},t}return Object(l.a)(c,[{key:"componentDidMount",value:function(){var t=this;fetch(tt,{headers:{Authorization:"Token ".concat(localStorage.token),"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){t.setState({users:e.results})})),this.intervalGetUsers=setInterval(this.getUsers,5e3)}},{key:"getUsers",value:function(){var t=Object(C.a)(k.a.mark((function t(){var e,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(tt,{headers:{Authorization:"Token ".concat(localStorage.token),"Content-Type":"application/json"}});case 2:return e=t.sent,t.next=5,e.json();case 5:c=t.sent,this.setState({users:c.results});case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalGetUsers)}},{key:"render",value:function(){var t=this,e="undefined"==typeof this.state.users?null:this.state.users;return Object(p.jsxs)("div",{children:[Object(p.jsxs)("body",{children:[Object(p.jsx)(D,{}),Object(p.jsxs)("div",{class:"row",children:[Object(p.jsx)("div",{children:Object(p.jsx)(U,{})}),Object(p.jsxs)("main",{class:"col-md-9 ms-sm-auto col-lg-10 px-md-4",children:[Object(p.jsxs)("div",{class:"chartjs-size-monitor",children:[Object(p.jsx)("div",{class:"chartjs-size-monitor-expand",children:Object(p.jsx)("div",{class:""})}),Object(p.jsx)("div",{class:"chartjs-size-monitor-shrink",children:Object(p.jsx)("div",{class:""})})]}),Object(p.jsx)("h1",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),Object(p.jsxs)("table",{className:"Table-Users",style:{borderColor:"black"},class:"table table-striped table-sm table-bordered",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{class:"text-center",children:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(p.jsx)("th",{class:"text-center",children:"\u041f\u043e\u0447\u0442\u0430"}),Object(p.jsx)("th",{class:"text-center",children:"\u0413\u0440\u0443\u043f\u043f\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(p.jsx)("th",{class:"text-center"})]})}),Object(p.jsx)("tbody",{className:"Table-body",children:null==e?Object(p.jsx)("p",{children:"Page is Loading ..."}):e.map((function(e,c){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.username}),Object(p.jsx)("td",{children:e.email}),Object(p.jsx)("td",{children:e.groups[0]}),Object(p.jsx)("td",{children:Object(p.jsxs)("select",{onChange:function(c){t.handleChangeGroupUser(c,e.token,c.target.value)},children:[Object(p.jsx)("option",{value:"Admin",children:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"}),Object(p.jsx)("option",{value:"Master",children:"\u041c\u0430\u0441\u0442\u0435\u0440"}),Object(p.jsx)("option",{value:"Guest",children:"\u0413\u043e\u0441\u0442\u044c"})]})})]})}))})]})]})]})]}),Object(p.jsx)("footer",{})]})}}]),c}(s.Component),ct=et,st=function(t){Object(o.a)(c,t);var e=Object(d.a)(c);function c(t){var s;return Object(i.a)(this,c),(s=e.call(this,t)).state={value:""},s}return Object(l.a)(c,[{key:"render",value:function(){return Object(p.jsx)(j.a,{children:Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)(b.d,{children:[Object(p.jsx)(b.b,{exact:!0,path:"/",component:y}),Object(p.jsx)(b.b,{exact:!0,path:"/unauthorized",component:K}),Object(p.jsx)(O,{exact:!0,path:"/monitoring",component:Z}),Object(p.jsx)(O,{exact:!0,path:"/register",component:Q}),Object(p.jsx)(O,{exact:!0,path:"/config",component:$}),Object(p.jsx)(O,{exact:!0,path:"/users",component:ct})]})})})}}]),c}(s.Component),nt=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,81)).then((function(e){var c=e.getCLS,s=e.getFID,n=e.getFCP,r=e.getLCP,a=e.getTTFB;c(t),s(t),n(t),r(t),a(t)}))};a.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(st,{})}),document.getElementById("root")),nt()}},[[80,1,2]]]);
//# sourceMappingURL=main.e3cf5bb5.chunk.js.map