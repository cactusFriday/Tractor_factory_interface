(this.webpackJsonptractor_factory_frontend=this.webpackJsonptractor_factory_frontend||[]).push([[0],{23:function(t,e,c){},31:function(t,e,c){},47:function(t,e,c){},58:function(t,e,c){},59:function(t,e,c){},83:function(t,e,c){},85:function(t,e,c){},86:function(t,e,c){},87:function(t,e,c){},88:function(t,e,c){},89:function(t,e,c){},91:function(t,e,c){"use strict";c.r(e);c(13);var n=c(1),s=c.n(n),r=c(48),a=c.n(r),i=(c(58),c(14)),o=c(15),l=c(18),d=c(17),j=(c(59),c(21)),b=c(6),h=c(3),u=c(9),p=c(0),x=["component"],O=function(t){var e=t.component,c=Object(u.a)(t,x);return Object(p.jsx)(b.b,Object(h.a)(Object(h.a)({},c),{},{render:function(t){return localStorage.token?Object(p.jsx)(e,Object(h.a)({},t)):Object(p.jsx)(b.a,{to:{pathname:"/unauthorized"}})}}))},f=c(2),m=c(4),g=c.n(m),v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAT9SURBVHgB7ZkNaJVVGMefa06XTUuzVjnLvgvsm6DIYkUtUlZEUWZihTTKSFol2KcFEYVRGPRFplYqEWWZZqwkoyiijIoIxazMaaNvP+fcdE//f+c/PN3du733Y3eI+8OPe/e+7znneZ/nOec8586sT33au5WyAuXu7GNIwr6aU6lUqxWg/la4RoIHwahunmsHC/GC82H0LstTBRks714LxoMtgN7jNdfnIDA8ajIUfA5WW28IBleB78FPYDQojzgSPAdafY/awX3WW8Lgd4PdYGaGe0+And5Za8BhVmph0GPARvAtODW6Pgw84tnVBmaBYsyfxMaWgXqwDcwA+0f3HgabvGvRy8dZqYTBzgQ/gB87wovPgWC68rQRzAFblRb8e0ua0TM9TNoeN7YfeFyDTo2MnQb+Al+Di0CFQt+il7sXfOMh513ROcp6Ssw5cB54Vd5i7h4KBoF7wHawFpzRkZ8y+nl5+kNQo2dXKpe/BLeAw4vqbQ8TjCvCenmnWQNz+boV/A5+BuMytK0ELyg1GsDJ4CRF6R+wC7wJahkpy1d8Y+YnuE052BLl33IwAtTJe6vlvbIsfQ0BL6mPzzys3/uB08DLSg/2swiMydlwNBgKbgZfyAOxmIOTwSSwWfl5eYI+afQ8RedTcHzkmEvAa7rHdJsNzuJLWRLhwRsU5nRxBeCkqpfXfwVXJfGIDKtSeuwAK5QuKd0/AkxUBJg+SzzppMSDd3nmXWq7wsbcawLXWI5Cm4PAQkXubXBs2n1G9xfwFTghvX2uuw1DVAO2gQdQdb1uuWszmG6hEBoLuMrUoq+dut8MdlsooDqpXxcdswTcANqiawM1YD0GmG15CO0crMfXK8FSUA04iY/2/y9tqVwN5lsuAkuia3+Dx8A7VqBgdAs+poEGcC541MJBgHLLw8PUH4B5ytAzVGvBMn0vhhrBYgupxpp6LqjSvYwe7jaH4QkuY3fg61ZwE3gKTLbwMoWqDsyI/q4F5aACbLKk0irB9fB+/Z3SOrpYKwUX+1Ge53bqodqbqL7SV6M2LZ8ZV4nuUuI/aaLwCDQFLAdXAxbtwyxHeagzrlB7enFN2iO8n9UR2Qx2NTyHO5IGoeEb8TEJrLAQvmfoecvNWM6JORZWHK40A7qwIXHHY7QTtWuDYFE+OrrP89oC7VivgBEJ+uyvNNigPvn9Wd9Tbsb608PBIFkEPdS8J4LbwSrlM7fkqR62V+b0SPCGh8Jlflee9lDoXOqh2qOxLClP8VDwxPoNvOehtkgcufTBKuWJddFkYP1wiPhAnmaNMDhD+wHgYg+1CQ2aomvzIkNZ9HwErvcsFV+uRnP7PN1D8c4SkVXax2Cch1r5fQ8zfi6jk9b2Qg9HqRYZy77O9nCA7fDqBHCwFVtKBZ7nVmowFjBc6m6U0czHp+X5Mr1Qk3KyTn2w+FmgaN3JZ62n5aEWjtdPeutdD+Um8/JJDxN3lYx9iJ5V2/MVoe9AuZVCGGh45KVsalWasHbuqHkPAEuVHjVWSmHAy7zzLI/F3yZ47qvQ80yn8YrGMlBppZSHo/1bWYzdofysiJ4f7CHP+VPAWC/FbxIZjL5AYY9Fr89KN0hGMhWY68nOahlU0FtqIr0IJkSXm8AnFqo7j8aptlB7XIctvsF6SzC62sNvEt2JSx5/VDnQClAx/mXAIoZ1RkV3j4J1oJHVn/WpT/uo/gVA8xlTSc6ePwAAAABJRU5ErkJggg==";c(83),c(23);function y(){var t=Object(b.g)(),e=Object(n.useState)(""),c=Object(f.a)(e,2),s=c[0],r=c[1],a=Object(n.useState)(""),i=Object(f.a)(a,2),o=i[0],l=i[1],d=Object(n.useState)(""),j=Object(f.a)(d,2),h=j[0],u=j[1];return Object(p.jsxs)("div",{children:[Object(p.jsxs)("body",{class:"text-center",children:[Object(p.jsx)("header",{class:"navbar navbar-dark sticky-top flex-md-nowrap p-0 shadow",children:Object(p.jsxs)("span",{style:{textAlign:"left",verticalAlign:"middle",paddingLeft:"10px"},children:[Object(p.jsx)("img",{style:{paddingRight:"10px"},src:v,alt:""}),"\u0410\u041e \xab\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433\u0441\u043a\u0438\u0439 \u0442\u0440\u0430\u043a\u0442\u043e\u0440\u043d\u044b\u0439 \u0437\u0430\u0432\u043e\u0434\xbb"]})}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c={email:s,password:o};g.a.defaults.xsrfCookieName="csrftoken",g.a.defaults.xsrfHeaderName="X-CSRFToken",g.a.defaults.withCredentials=!0,g.a.post("https://tractor-factory-interface.herokuapp.com/api/users/login/",{user:c},{headers:{"Content-Type":"application/json"}}).then((function(e){var c=e.data.user.token,n=e.data.user.group,s=e.data.user.username;localStorage.setItem("token",c),localStorage.setItem("group",n),localStorage.setItem("username",s),t.push("/monitoring")})).catch((function(t){console.log(t.response.data.errors.error[0]),u("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c!")}))},class:"form-signin",style:{paddingTop:"200px"},children:[Object(p.jsx)("h1",{class:"h3 mb-3 font-weight-normal",children:"\u0412\u0445\u043e\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443"}),Object(p.jsx)("label",{children:Object(p.jsx)("input",{class:"form-control",style:{marginBottom:"20px"},type:"text",name:"login",placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",value:s,required:"required",autoFocus:"autoFocus",onChange:function(t){return r(t.target.value)}})}),Object(p.jsx)("label",{children:Object(p.jsx)("input",{class:"form-control",style:{marginBottom:"10px"},type:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:o,required:"required",onChange:function(t){return l(t.target.value)}})}),Object(p.jsx)("h5",{style:{textAlign:"center",color:"red"},children:h}),Object(p.jsx)("button",{class:"btn btn-lg btn-primary btn-block float-end",type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})]})]}),Object(p.jsx)("footer",{})]})}var k=c(20),A=c.n(k),C=c(25),w=c(7),S=(c(31),c(85),c.p+"static/media/home.d913d8b9.svg"),_=(c.p,c.p,c.p+"static/media/monitoring.9a6b5dac.svg"),N=(c.p,c.p,c.p,c.p,c.p+"static/media/settings.dfe422ff.svg"),T=c.p+"static/media/people-fill.5909107f.svg";function I(){var t=Object(b.g)();return Object(p.jsx)("nav",{id:"sidebarMenu",class:"col-md-3 col-lg-2 d-md-block sidebar collapse",children:Object(p.jsx)("div",{class:"position-sticky",children:Object(p.jsxs)("ul",{class:"nav flex-column",children:[Object(p.jsx)("li",{class:"nav-item",onClick:function(){t.push("/monitoring")},children:Object(p.jsxs)("a",{class:"nav-link",style:{color:"white"},"aria-current":"page",children:[Object(p.jsx)("img",{style:{paddingRight:"24px"},src:S,alt:""}),"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"]})}),Object(p.jsx)("li",{class:"nav-item",children:Object(p.jsxs)("a",{class:"nav-link",style:{color:"white"},children:[Object(p.jsx)("img",{style:{paddingRight:"24px"},src:_,alt:""}),"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433"]})}),Object(p.jsx)("li",{class:"nav-item",onClick:function(){t.push("/config")},children:Object(p.jsxs)("a",{class:"nav-link",style:{color:"white"},children:[Object(p.jsx)("img",{style:{paddingRight:"24px"},src:N,alt:""}),"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f"]})}),Object(p.jsx)("li",{class:"nav-item",onClick:function(){t.push("/register")},children:Object(p.jsxs)("a",{class:"nav-link",style:{color:"white"},children:[Object(p.jsx)("img",{style:{paddingRight:"24px"},src:N,alt:""}),"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"]})}),Object(p.jsx)("li",{class:"nav-item",onClick:function(){t.push("/users")},children:Object(p.jsxs)("a",{class:"nav-link",style:{color:"white"},children:[Object(p.jsx)("img",{style:{paddingRight:"24px"},src:T,alt:""}),"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"]})})]})})})}var E=c.p+"static/media/logout.27278370.svg";function B(){var t=Object(b.g)();return Object(p.jsxs)("header",{class:"navbar navbar-dark sticky-top flex-md-nowrap p-0 shadow",children:[Object(p.jsxs)("span",{style:{textAlign:"left",verticalAlign:"middle",paddingLeft:"10px"},children:[Object(p.jsx)("img",{style:{paddingRight:"10px"},src:v,alt:""}),"\u0410\u041e \xab\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433\u0441\u043a\u0438\u0439 \u0442\u0440\u0430\u043a\u0442\u043e\u0440\u043d\u044b\u0439 \u0437\u0430\u0432\u043e\u0434\xbb"]}),Object(p.jsx)("button",{class:"navbar-toggler position-absolute d-md-none",type:"button","data-bs-toggle":"collapse","data-bs-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"true","aria-label":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e",children:Object(p.jsx)("img",{style:{paddingRight:"24px"},src:E,alt:""})}),Object(p.jsx)("div",{class:"navbar-nav",children:Object(p.jsx)("div",{class:"nav-item text-nowrap",children:Object(p.jsxs)("a",{class:"nav-link",style:{verticalAlign:"middle"},children:[localStorage.username,Object(p.jsx)("img",{style:{paddingRight:"32px",paddingLeft:"12px",cursor:"pointer"},src:E,onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("group"),localStorage.removeItem("username"),t.push("/")},alt:""})]})})})]})}var F=c.p+"static/media/history.f53d31e0.svg",U=c.p+"static/media/edit.0527f4bc.svg",H=(c(47),c.p+"static/media/close.9a0b3840.svg"),R=function(t){var e=t.isAct,c=t.setUnactive,s=t.data,r=t.key,a=t.handleOnSubmit,i=e?"container-fluid modalAccident active":"container-fluid modalAccident",o=Object(n.useState)(r),l=Object(f.a)(o,2),d=(l[0],l[1],Object(n.useState)(null===s?"":s.accident_class)),j=Object(f.a)(d,2),b=j[0],h=j[1],u=Object(n.useState)(""),x=Object(f.a)(u,2),O=(x[0],x[1],Object(n.useState)(null===s?"":s.description)),m=Object(f.a)(O,2),g=m[0],v=m[1],y=Object(n.useState)(!1),k=Object(f.a)(y,2),A=(k[0],k[1],null===s?"":s.description),C=null===s?"":s.accident_class;return Object(n.useEffect)((function(){v(A),h(C)})),Object(p.jsx)("div",{className:i,onClick:c,children:Object(p.jsxs)("div",{className:"modal__content",onClick:function(t){return t.stopPropagation()},children:[Object(p.jsx)("div",{children:Object(p.jsx)("img",{height:"32px",style:{float:"right",cursor:"pointer"},src:H,alt:"",onClick:c})}),Object(p.jsxs)("form",{onSubmit:a,children:[Object(p.jsxs)("div",{class:"form-group my-3",children:[Object(p.jsx)("label",{for:"PostNumber",children:"\u041d\u043e\u043c\u0435\u0440 \u043f\u043e\u0441\u0442\u0430"}),Object(p.jsx)("input",{type:"text",class:"form-control form-control-modal",id:"PostNumber",name:"post",disabled:!0,value:null===s?"":s.post})]}),Object(p.jsxs)("div",{class:"form-group my-3",children:[Object(p.jsx)("label",{for:"AccidentAppeared",children:"\u0412\u0440\u0435\u043c\u044f \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u044f"}),Object(p.jsx)("input",{type:"datetime-local",class:"form-control form-control-modal",id:"AccidentAppeared",name:"timeAppeared",disabled:!0,value:null===s?"":s.time_appeared.replace("Z","").slice(0,19)})]}),Object(p.jsxs)("div",{class:"form-group my-3",children:[Object(p.jsx)("label",{for:"AccidentSolved",children:"\u0412\u0440\u0435\u043c\u044f \u0443\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b"}),Object(p.jsx)("input",{type:"text",class:"form-control form-control-modal",id:"AccidentSolved",name:"AccidentSolved",disabled:!0,value:null===s?"":null===s.time_solved?"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u043d\u0435 \u0443\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u0430":s.time_solved.replace("T"," ").replace("Z","").replaceAll("-",".").slice(0,19)})]}),Object(p.jsxs)("div",{class:"form-group my-3",children:[Object(p.jsx)("label",{for:"AccidentClass",children:"\u041a\u043b\u0430\u0441\u0441 \u043f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u044f"}),Object(p.jsxs)("select",{class:"form-control form-control-modal",id:"AccidentClass",name:"accidentClass",value:b,onChange:function(t){C=t.target.value,s.accident_class=t.target.value,h(t.target.value)},children:[Object(p.jsx)("option",{children:"1"}),Object(p.jsx)("option",{children:"2"}),Object(p.jsx)("option",{children:"3"})]})]}),Object(p.jsxs)("div",{class:"form-group my-3",children:[Object(p.jsx)("label",{for:"AccidentDescription",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(p.jsx)("textarea",{class:"form-control form-control-modal",id:"AccidentDescription",rows:"3",name:"description",value:g,onChange:function(t){A=t.target.value,s.description=t.target.value,v(t.target.value)}})]}),Object(p.jsx)("button",{type:"submit",class:"btn btn-primary",onClick:c,children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})]})]})})},z=(c(86),function(t){var e=t.isAct,c=t.setUnactive,n=t.data,s=t.accidentsClasses,r=e?"container-fluid modalAccident active":"container-fluid modalAccident";return Object(p.jsx)("div",{className:r,onClick:c,style:{position:"fixed",overflowY:"scroll"},children:Object(p.jsxs)("div",{className:"container modal__content",onClick:function(t){return t.stopPropagation()},children:[Object(p.jsx)("div",{children:Object(p.jsx)("img",{height:"32px",style:{marginTop:"10px",float:"right",cursor:"pointer"},src:H,alt:"",onClick:c})}),Object(p.jsx)("div",{class:"table-responsive",style:{height:"80vh",overflowY:"auto"},children:Object(p.jsxs)("table",{class:"table table-bordered table-hover table-sm",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{class:"text-center",children:"\u041d\u043e\u043c\u0435\u0440 \u043f\u043e\u0441\u0442\u0430"}),Object(p.jsx)("th",{class:"text-center",children:"\u0422\u0438\u043f \u043f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u044f"}),Object(p.jsx)("th",{class:"text-center",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(p.jsx)("th",{class:"text-center",children:"\u0412\u0440\u0435\u043c\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})]})}),Object(p.jsxs)("tbody",{className:"Table-body",children:[Object(p.jsx)("th",{colspan:"4",children:Object(p.jsx)("h5",{style:{textAlign:"center",color:"Highlight"},children:Object(p.jsx)("b",{children:"\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435"})})}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:null===n?"":n.post}),Object(p.jsx)("td",{children:null===n||"undefined"==typeof s[n.accident_class-1]?"":s[n.accident_class-1].name}),Object(p.jsx)("td",{rows:"3",children:null===n?"":n.description}),Object(p.jsx)("td",{children:null===n?"":n.time_appeared.replace("T"," ").replace("T"," ").replace("Z","").replaceAll("-",".").slice(0,19)})]}),Object(p.jsx)("th",{colspan:"4",children:Object(p.jsx)("h5",{style:{textAlign:"center",color:"Highlight"},children:Object(p.jsx)("b",{children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439"})})}),Object(p.jsx)("tr",{}),null===n||null===n.accident_history?Object(p.jsx)("th",{colspan:"4",style:{textAlign:"center"},children:Object(p.jsx)("h6",{children:"\u041d\u0435\u0442 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439..."})}):n.accident_history.map((function(t,e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:n.post}),Object(p.jsx)("td",{children:s[t.accident_class-1]}),Object(p.jsx)("td",{children:t.description}),Object(p.jsx)("td",{children:t.time_changed.replace("T"," ").replace("Z","").replaceAll("-",".").slice(0,19)})]})}))]})]})})]})})}),D=function(t){Object(l.a)(c,t);var e=Object(d.a)(c);function c(){var t;return Object(i.a)(this,c),(t=e.call(this)).setUnactiveEdit=function(){t.setState({edit:!1})},t.setUnactiveHistory=function(){t.setState({history:!1})},t.handleEditSubmit=function(e){e.preventDefault();var c=e.target,n={accident_id:parseInt(t.state.key),accident_class:parseInt(c.accidentClass.value),description:c.AccidentDescription.value};console.log(JSON.stringify(n)),g.a.defaults.xsrfCookieName="csrftoken",g.a.defaults.xsrfHeaderName="X-CSRFToken",g.a.defaults.withCredentials=!0,g.a.post("https://tractor-factory-interface.herokuapp.com/api/accident/history/",JSON.stringify(n),{headers:{Authorization:"Token ".concat(localStorage.token),"Content-Type":"application/json"}}).then((function(t){console.log(t),console.log(t.data)})).catch((function(t){console.log(t)}))},t.state={loading:!0,accidents:null,data:null,data_history:null,key:null,edit:!1,history:!1},t.setActiveEdit=t.setActiveEdit.bind(Object(w.a)(t)),t.setUnactiveEdit=t.setUnactiveEdit.bind(Object(w.a)(t)),t.setActiveHistory=t.setActiveHistory.bind(Object(w.a)(t)),t.setUnactiveHistory=t.setUnactiveHistory.bind(Object(w.a)(t)),t}return Object(o.a)(c,[{key:"componentDidMount",value:function(){var t=this;fetch("https://tractor-factory-interface.herokuapp.com/api/accident/").then((function(t){return t.json()})).then((function(e){t.setState({loading:!1,accidents:e})}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.intervalGet)}},{key:"setActiveEdit",value:function(t){var e=Object.values(this.state.accidents.results);this.setState({edit:!0,key:t,data:e[t]})}},{key:"setActiveHistory",value:function(t){var e=this;fetch("https://tractor-factory-interface.herokuapp.com/api/accident/").then((function(t){return t.json()})).then((function(c){e.setState({loading:!1,history:!0,key:t,data_history:c.results[t]})}))}},{key:"render",value:function(){var t=this,e="undefined"==typeof this.props.accidents?null:this.props.accidents,c=this.props.accidentClasses;return console.log(c[0]),console.log(e),Object(p.jsxs)(s.a.Fragment,{children:[Object(p.jsxs)("table",{className:"Table-Accidents",style:{borderColor:"black"},class:"table table-striped table-sm table-bordered",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{class:"text-center",children:"\u041d\u043e\u043c\u0435\u0440 \u043f\u043e\u0441\u0442\u0430"}),Object(p.jsx)("th",{class:"text-center",children:"\u0422\u0438\u043f \u043f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u044f"}),Object(p.jsx)("th",{class:"text-center",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(p.jsx)("th",{class:"text-center",children:"\u0412\u0440\u0435\u043c\u044f \u0444\u0438\u043a\u0441\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b"}),Object(p.jsx)("th",{class:"text-center",children:"\u0412\u0440\u0435\u043c\u044f \u0443\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b"}),Object(p.jsx)("th",{class:"text-center"})]})}),Object(p.jsx)("tbody",{className:"Table-body",children:null==e?Object(p.jsx)("p",{children:"Page is Loading ..."}):e.map((function(e,n){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.post}),Object(p.jsx)("td",{children:"undefined"==typeof c[e.accident_class-1]?"":c[e.accident_class-1].name}),Object(p.jsx)("td",{children:e.description}),Object(p.jsx)("td",{children:e.time_appeared.replace("T"," ").replace("Z","").replaceAll("-",".").slice(0,19)}),Object(p.jsx)("td",{children:null===e.time_solved?"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u043d\u0435 \u0443\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u0430":e.time_solved.replace("T"," ").replace("Z","").replaceAll("-",".").slice(0,19)}),Object(p.jsxs)("td",{style:{position:"sticky",right:"0px"},children:[Object(p.jsx)("img",{src:F,alt:"",onClick:function(){return t.setActiveHistory(n)}}),Object(p.jsx)("img",{src:U,alt:"",onClick:function(){return t.setActiveEdit(n)}})]})]})}))})]}),Object(p.jsx)(R,{isAct:this.state.edit,setUnactive:this.setUnactiveEdit,data:this.state.data,handleOnSubmit:this.handleEditSubmit},this.state.key),Object(p.jsx)(z,{isAct:this.state.history,setUnactive:this.setUnactiveHistory,data:this.state.data_history,accidentsClasses:c})]})}}]),c}(n.Component),P=function(t){Object(l.a)(c,t);var e=Object(d.a)(c);function c(){var t;return Object(i.a)(this,c),(t=e.call(this)).handleOnSubmit=function(e){e.preventDefault();var c=e.target,n=(parseInt(c.post.placeholder),t.props.accident.id),s=t.props.accidentClasses[c.accidentClass.selectedIndex].number,r={accident_class:parseInt(s),description:c.description.value};g.a.defaults.xsrfCookieName="csrftoken",g.a.defaults.xsrfHeaderName="X-CSRFToken",g.a.defaults.withCredentials=!0;var a="https://tractor-factory-interface.herokuapp.com/api/accident/".concat(n,"/");g.a.patch(a,JSON.stringify(r),{headers:{Authorization:"Token ".concat(localStorage.token),"Content-Type":"application/json"}}).then((function(e){t.props.setActive(!1)})).catch((function(e){t.props.setError("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u044f")}))},t.state={error:""},t}return Object(o.a)(c,[{key:"convertTime",value:function(t){return[null==t.time_appeared?"":t.time_appeared.slice(0,19),null==t.time_solved?"":t.time_solved.slice(0,19)]}},{key:"render",value:function(){var t=this.props.isActive,e=this.props.setActive,c=this.props.accident,n=this.props.accidentClasses,r=null;return null!==c&&(r=this.convertTime(c)),Object(p.jsx)("div",{className:t?"container-fluid modalAccident active":"container-fluid modalAccident",onClick:function(){return e(!1)},children:Object(p.jsxs)("div",{className:"modal__content container-sm",onClick:function(t){return t.stopPropagation()},children:[Object(p.jsx)("div",{children:Object(p.jsx)("img",{height:"32px",style:{marginTop:"10px",float:"right",cursor:"pointer"},src:H,alt:"",onClick:function(){return e(!1)}})}),null==c?Object(p.jsx)(s.a.Fragment,{children:Object(p.jsx)("h3",{children:"Loading..."})}):Object(p.jsxs)(s.a.Fragment,{children:[Object(p.jsxs)("form",{onSubmit:this.handleOnSubmit,children:[Object(p.jsxs)("div",{class:"form-group my-3",children:[Object(p.jsx)("label",{for:"PostNumber",children:"\u041d\u043e\u043c\u0435\u0440 \u043f\u043e\u0441\u0442\u0430"}),Object(p.jsx)("input",{type:"text",class:"form-control form-control-modal",id:"PostNumber",name:"post",disabled:!0,placeholder:null==c?null:c.post})]}),Object(p.jsxs)("div",{class:"form-group my-3",children:[Object(p.jsx)("label",{for:"AccidentAppeared",children:"\u0412\u0440\u0435\u043c\u044f \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u044f"}),Object(p.jsx)("input",{type:"datetime-local",class:"form-control form-control-modal",id:"AccidentAppeared",name:"timeAppeared",value:null==r[0]?"":r[0],disabled:!0})]}),Object(p.jsxs)("div",{class:"form-group my-3",children:[Object(p.jsx)("label",{for:"AccidentSolved",children:"\u0412\u0440\u0435\u043c\u044f \u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u044f"}),Object(p.jsx)("input",{type:"datetime-local",class:"form-control form-control-modal",id:"AccidentSolved",name:"timeSolved",value:null==r[1]?"":r[1],disabled:!0})]}),Object(p.jsxs)("div",{class:"form-group my-3",children:[Object(p.jsx)("label",{for:"AccidentClass",children:"\u041a\u043b\u0430\u0441\u0441 \u043f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u044f"}),Object(p.jsx)("select",{class:"form-control form-control-modal",id:"AccidentClass",name:"accidentClass",children:n.map((function(t,e){return Object(p.jsx)("option",{children:"\u041a\u043b\u0430\u0441\u0441 "+String(t.number)+": "+String(t.name)})}))})]}),Object(p.jsxs)("div",{class:"form-group my-3",children:[Object(p.jsx)("label",{for:"AccidentDescription",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(p.jsx)("textarea",{class:"form-control form-control-modal",id:"AccidentDescription",rows:"3",name:"description"})]}),Object(p.jsx)("button",{type:"submit",class:"btn btn-primary",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]}),"undefined"===this.props.error?null:Object(p.jsx)("div",{children:Object(p.jsx)("p",{style:{color:"red",fontWeight:"bold"},children:this.props.error})})]})]})})}}]),c}(n.Component),q=(c(87),function(t){var e=t.accidentClasses,c=Object(n.useState)(null),r=Object(f.a)(c,2),a=r[0],i=r[1],o=Object(n.useState)(!1),l=Object(f.a)(o,2),d=l[0],j=l[1],b=Object(n.useState)(null),h=Object(f.a)(b,2),u=h[0],x=h[1],O=Object(n.useState)(null),m=Object(f.a)(O,2),g=m[0],v=m[1],y=function(){var t=Object(C.a)(A.a.mark((function t(){var e,c;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://tractor-factory-interface.herokuapp.com/api/conveyor-state/");case 2:return e=t.sent,t.next=5,e.json();case 5:c=t.sent,i(c);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function k(t){var e="https://tractor-factory-interface.herokuapp.com/api/accident/?post=".concat(t,"&last=True");fetch(e).then((function(t){return t.json()})).then((function(t){var e=t.results[0];x(e)})),j(!0),v(null)}return Object(n.useEffect)((function(){var t=setInterval(y,2e3);return function(){return clearInterval(t)}}),[]),Object(p.jsxs)(s.a.Fragment,{children:[Object(p.jsxs)("table",{className:"App-Conveyor",style:{backgroundColor:"#E6E8EB",fontSize:"18px"},children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{style:{width:"1%"}}),Object(p.jsx)("td",{style:{width:"7%"},children:"0"}),Object(p.jsx)("td",{style:{width:"7%"},children:"1"}),Object(p.jsx)("td",{style:{width:"7%"},children:"2"}),Object(p.jsx)("td",{style:{width:"7%"},children:"3"}),Object(p.jsx)("td",{style:{width:"7%"},children:"4"}),Object(p.jsx)("td",{style:{width:"7%"},children:"5"}),Object(p.jsx)("td",{style:{width:"7%"},children:"6"}),Object(p.jsx)("td",{style:{width:"7%"},children:"7"}),Object(p.jsx)("td",{style:{width:"7%"},children:"8"}),Object(p.jsx)("td",{style:{width:"7%"},children:"9"}),Object(p.jsx)("td",{style:{width:"7%"},children:"10"}),Object(p.jsx)("td",{style:{width:"7%"},children:"11"}),Object(p.jsx)("td",{style:{width:"7%"},children:"12"}),Object(p.jsx)("td",{style:{width:"7%"},children:"13"}),Object(p.jsx)("td",{style:{width:"1%"}})]}),Object(p.jsxs)(s.a.Fragment,{children:[Object(p.jsxs)("tr",{style:{backgroundColor:"#09AC54"},children:[Object(p.jsx)("td",{style:{paddingBottom:"6.3%",height:"0",backgroundColor:"#E6E8EB"}}),null===a?Object(p.jsxs)(s.a.Fragment,{children:[Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{})]}):a.slice(0,a.length/2).map((function(t,e){return Object(p.jsx)("td",{class:t.buttons_set[0].status_block,onClick:"error"===t.buttons_set[0].status_block?function(){return k(t.post_number)}:null},t.post_number)})),Object(p.jsx)("td",{style:{width:"1%",backgroundColor:"#E6E8EB"}})]}),Object(p.jsxs)("tr",{style:{backgroundColor:"#09AC54"},children:[Object(p.jsx)("td",{style:{paddingBottom:"6.3%",height:"0",backgroundColor:"#E6E8EB"}}),null===a?Object(p.jsxs)(s.a.Fragment,{children:[Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{})]}):a.slice(a.length/2,a.length).map((function(t,e){return Object(p.jsx)("td",{class:t.buttons_set[0].status_block,onClick:"error"===t.buttons_set[0].status_block?function(){return k(t.post_number)}:null},t.post_number)})),Object(p.jsx)("td",{style:{width:"1%",backgroundColor:"#E6E8EB"}})]})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{style:{width:"1%",backgroundColor:"#E6E8EB"}}),Object(p.jsx)("td",{children:"14"}),Object(p.jsx)("td",{children:"15"}),Object(p.jsx)("td",{children:"16"}),Object(p.jsx)("td",{children:"17"}),Object(p.jsx)("td",{children:"18"}),Object(p.jsx)("td",{children:"19"}),Object(p.jsx)("td",{children:"20"}),Object(p.jsx)("td",{children:"21"}),Object(p.jsx)("td",{children:"22"}),Object(p.jsx)("td",{children:"23"}),Object(p.jsx)("td",{children:"24"}),Object(p.jsx)("td",{children:"25"}),Object(p.jsx)("td",{children:"26"}),Object(p.jsx)("td",{children:"27"}),Object(p.jsx)("td",{style:{width:"1%",backgroundColor:"#E6E8EB"}})]})]}),Object(p.jsx)(P,{isActive:d,setActive:j,accident:u,setError:v,error:g,accidentClasses:e})]})}),L=c.p+"static/media/arrow_forward.5f8e57a2.svg",W="https://tractor-factory-interface.herokuapp.com/api/accident/",M=function(t){Object(l.a)(c,t);var e=Object(d.a)(c);function c(){var t;return Object(i.a)(this,c),(t=e.call(this)).getAccidents=t.getAccidents.bind(Object(w.a)(t)),t.state={loading:!0,accidents:[],accidentClasses:[]},t}return Object(o.a)(c,[{key:"componentDidMount",value:function(){var t=this;fetch(W).then((function(t){return t.json()})).then((function(e){t.setState({accidents:e.results})})),fetch("https://tractor-factory-interface.herokuapp.com/api/accident/classes/").then((function(t){return t.json()})).then((function(e){t.setState({loading:!1,accidentClasses:e.results})})),this.intervalGetAccidents=setInterval(this.getAccidents,2500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalGetAccidents)}},{key:"getAccidents",value:function(){var t=Object(C.a)(A.a.mark((function t(){var e,c;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(W);case 2:return e=t.sent,t.next=5,e.json();case 5:c=t.sent,this.setState({accidents:c.results});case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("body",{children:[Object(p.jsx)(B,{}),Object(p.jsxs)("div",{class:"row",children:[Object(p.jsx)("div",{children:Object(p.jsx)(I,{})}),Object(p.jsxs)("main",{class:"col-md-9 ms-sm-auto col-lg-10 px-md-4",children:[Object(p.jsxs)("div",{class:"chartjs-size-monitor",children:[Object(p.jsx)("div",{class:"chartjs-size-monitor-expand",children:Object(p.jsx)("div",{class:""})}),Object(p.jsx)("div",{class:"chartjs-size-monitor-shrink",children:Object(p.jsx)("div",{class:""})})]}),Object(p.jsx)("h1",{children:"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433"}),Object(p.jsx)("table",{class:"table",style:{backgroundColor:"none",fontSize:"18px",marginTop:"10px"},children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{style:{width:"3%",verticalAlign:"middle",border:"none"},children:Object(p.jsx)("img",{src:L,alt:""})}),Object(p.jsx)("td",{style:{border:"none"},children:Object(p.jsx)(q,{accidentClasses:this.state.accidentClasses})}),Object(p.jsx)("td",{style:{width:"3%",verticalAlign:"middle",border:"none"},children:Object(p.jsx)("img",{src:L,alt:""})})]})}),Object(p.jsxs)("div",{className:"App-Accidents",class:"table-responsive",children:[Object(p.jsx)("h1",{style:{textAlign:"left",verticalAlign:"middle",lineHeight:"30px",marginBottom:"30px",fontWeight:"600"},children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0445 \u043f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u0439"}),Object(p.jsx)("div",{style:{height:"40vh",overflowY:"auto"},children:Object(p.jsx)(D,{accidents:this.state.accidents,accidentClasses:this.state.accidentClasses})})]})]})]})]}),Object(p.jsx)("footer",{})]})}}]),c}(n.Component),Y=M;c(88);function G(){var t=!0,e=Object(n.useState)(""),c=Object(f.a)(e,2),s=c[0],r=c[1],a=Object(n.useState)(""),i=Object(f.a)(a,2),o=i[0],l=i[1],d=Object(n.useState)(""),j=Object(f.a)(d,2),b=j[0],h=j[1],u=Object(n.useState)(""),x=Object(f.a)(u,2),O=x[0],m=x[1],v=Object(n.useState)(""),y=Object(f.a)(v,2),k=y[0],A=y[1],C=Object(n.useState)(""),w=Object(f.a)(C,2),S=w[0];w[1];return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("header",{className:"App-header",children:Object(p.jsx)(B,{})}),Object(p.jsxs)("div",{class:"row",children:[Object(p.jsx)("div",{children:Object(p.jsx)(I,{})}),Object(p.jsxs)("main",{className:"App-main",class:"col-md-9 ms-sm-auto col-lg-10 px-md-4",children:[Object(p.jsxs)("div",{class:"chartjs-size-monitor",children:[Object(p.jsx)("div",{class:"chartjs-size-monitor-expand",children:Object(p.jsx)("div",{class:""})}),Object(p.jsx)("div",{class:"chartjs-size-monitor-shrink",children:Object(p.jsx)("div",{class:""})})]}),Object(p.jsxs)("div",{className:"App-InputForm",children:[Object(p.jsx)("h3",{className:"Title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435"}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g.a.defaults.xsrfCookieName="csrftoken",g.a.defaults.xsrfHeaderName="X-CSRFToken",g.a.defaults.withCredentials=!0,O!==k&&(t=!1);var c={username:s,email:b,password:O,group:o},n=localStorage.getItem("token");g.a.post("https://tractor-factory-interface.herokuapp.com/api/users/",{user:c},{headers:{"Content-Type":"application/json",Authorization:"Token ".concat(n)}}).then((function(t){console.log(t),console.log(t.data)}))},children:[Object(p.jsx)("label",{children:Object(p.jsx)("input",{className:"App-Input",type:"text",name:"username",placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",value:s,required:"required",autofocus:"autofocus",onChange:function(t){return r(t.target.value)}})}),Object(p.jsx)("label",{children:Object(p.jsx)("input",{className:"App-Input",type:"email",name:"email",placeholder:"E-mail",value:b,required:"required",onChange:function(t){return h(t.target.value)}})}),Object(p.jsx)("label",{children:Object(p.jsx)("input",{className:"App-Input",type:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:O,required:"required",onChange:function(t){return m(t.target.value)}})}),Object(p.jsx)("label",{children:Object(p.jsx)("input",{className:"App-Input",type:"password",name:"password",placeholder:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f",value:k,required:"required",onChange:function(t){return A(t.target.value)}})}),Object(p.jsx)("div",{children:t?null:Object(p.jsx)("p",{children:"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"})}),Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"\u0413\u0440\u0443\u043f\u043f\u0430:"}),Object(p.jsxs)("select",{onChange:function(t){return l(t.target.value)},children:[Object(p.jsx)("option",{value:"Admin",children:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"}),Object(p.jsx)("option",{value:"Master",children:"\u041c\u0430\u0441\u0442\u0435\u0440"}),Object(p.jsx)("option",{value:"Guest",children:"\u0413\u043e\u0441\u0442\u044c"})]})]}),Object(p.jsx)("button",{className:"App-Button",type:"submit",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(p.jsx)("h5",{style:{textAlign:"center",color:"red"},children:S})]})]})]}),Object(p.jsx)("footer",{})]})]})}var V=function(){var t=Object(b.g)();return Object(p.jsxs)("div",{style:{textAlign:"center",verticalAlign:"middle",marginTop:"100px"},children:[Object(p.jsx)("h1",{children:"\u0412\u044b \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443!"}),Object(p.jsx)("button",{class:"btn btn-primary",style:{marginTop:"50px"},onClick:function(){t.push("/")},children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"})]})},J=(c(89),function(t){Object(l.a)(c,t);var e=Object(d.a)(c);function c(){var t;return Object(i.a)(this,c),(t=e.call(this)).state={isError:!1},t.onSubmitClick=t.onSubmitClick.bind(Object(w.a)(t)),t.onResetClick=t.onResetClick.bind(Object(w.a)(t)),t.checkOnError=t.checkOnError.bind(Object(w.a)(t)),g.a.defaults.xsrfCookieName="csrftoken",g.a.defaults.xsrfHeaderName="X-CSRFToken",g.a.defaults.withCredentials=!0,t}return Object(o.a)(c,[{key:"componentDidMount",value:function(){this.getConfig(),this.interval=setInterval(this.checkOnError,2e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"getConfig",value:function(){var t=this;g.a.get("https://tractor-factory-interface.herokuapp.com/api/conveyor-state/buttons-posts/").then((function(e){var c=document.getElementById("error-header");null!==c&&c.parentNode.removeChild(c),t.fillInputsWithConfig(e.data.results),t.saveToLocalStorage(e.data.results),t.setState({isError:!1})})).catch((function(e){(t.setState({isError:!0}),null===document.getElementById("error-header"))&&document.getElementById("btns-container").insertAdjacentHTML("afterend",'<h3 id="error-header" style="color: red; margin-top:35px">\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438</h3>')}))}},{key:"postConfig",value:function(t){g.a.post("https://tractor-factory-interface.herokuapp.com/api/conveyor-state/buttons-posts/update-buttons-configuration/",JSON.stringify(t),{headers:{Authorization:"Token ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}},{key:"saveToLocalStorage",value:function(t){null!==localStorage.getItem("posts-config")&&localStorage.removeItem("posts-config"),localStorage.setItem("posts-config",JSON.stringify(t))}},{key:"onSubmitClick",value:function(){for(var t=document.getElementsByTagName("input"),e={},c=0;c<t.length;c++)e[c]={},e[c].post=c,e[c].block=t[c].value;var n=this.convertPostsNumbersFromInputs(e);this.saveToLocalStorage(n),this.postConfig(n)}},{key:"onResetClick",value:function(){for(var t=document.getElementsByTagName("input"),e=0;e<t.length;e++)t[e].value=""}},{key:"convertPostsNumbersFromInputs",value:function(t){Object.keys(t).length;var e={},c=[];for(var n in t){var s=String(t[n].block);c.indexOf(s)<0?e[s]={buttons_block_number:s,posts:[{post_number:parseInt(n)}]}:e[s].posts.push({post_number:parseInt(n)}),c.push(s)}var r=[];for(var a in e)r.push(e[a]);return console.log(r),r}},{key:"fillInputsWithConfig",value:function(t){for(var e=document.getElementsByTagName("input"),c=Array.prototype.slice.call(e),n=0;n<t.length;n++)for(var s=t[n].buttons_block_number,r=t[n].posts,a=0;a<r.length;a++)c[r[a].post_number].value=s}},{key:"checkOnError",value:function(){!0===this.state.isError?this.getConfig():clearInterval(this.interval)}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("header",{className:"App-header",children:Object(p.jsx)(B,{})}),Object(p.jsx)("main",{className:"App-main",children:Object(p.jsxs)("div",{class:"container",children:[Object(p.jsx)("div",{class:"mb-4",children:Object(p.jsx)("div",{class:"outer",children:Object(p.jsxs)("a",{href:"/monitoring",children:[Object(p.jsx)("div",{class:"arrow-back"}),Object(p.jsx)("p",{children:"\u041d\u0430\u0437\u0430\u0434"})]})})}),Object(p.jsx)("div",{class:"table-responsive",children:Object(p.jsxs)("table",{class:"table table-bordered table-config",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"col",children:"\u041f\u043e\u0441\u0442"}),Object(p.jsx)("th",{scope:"col",children:"0"}),Object(p.jsx)("th",{scope:"col",children:"1"}),Object(p.jsx)("th",{scope:"col",children:"2"}),Object(p.jsx)("th",{scope:"col",children:"3"}),Object(p.jsx)("th",{scope:"col",children:"4"}),Object(p.jsx)("th",{scope:"col",children:"5"}),Object(p.jsx)("th",{scope:"col",children:"6"}),Object(p.jsx)("th",{scope:"col",children:"7"}),Object(p.jsx)("th",{scope:"col",children:"8"}),Object(p.jsx)("th",{scope:"col",children:"9"}),Object(p.jsx)("th",{scope:"col",children:"10"}),Object(p.jsx)("th",{scope:"col",children:"11"}),Object(p.jsx)("th",{scope:"col",children:"12"}),Object(p.jsx)("th",{scope:"col",children:"13"})]})}),Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"row",children:"\u041f\u0440\u0430\u0432\u0430\u044f \u0441\u0442\u043e\u0440\u043e\u043d\u0430"}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"row",children:"\u041b\u0435\u0432\u0430\u044f \u0441\u0442\u043e\u0440\u043e\u043d\u0430"}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{type:"text",class:"form-control form-control__config"})})]})]})]})}),Object(p.jsxs)("div",{class:"container",id:"btns-container",children:[Object(p.jsx)("button",{type:"button",class:"btn btn-primary btn-config",onClick:this.onSubmitClick,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435"}),Object(p.jsx)("button",{type:"button",class:"btn btn-dark btn-config btn-config-dark",onClick:this.onResetClick,children:"\u0421\u0431\u0440\u043e\u0441"})]})]})}),Object(p.jsx)("footer",{})]})}}]),c}(n.Component)),X=(c(90),c(22)),Z="https://tractor-factory-interface.herokuapp.com/api/users/all/",Q=function(t){Object(l.a)(c,t);var e=Object(d.a)(c);function c(){var t;return Object(i.a)(this,c),(t=e.call(this)).handleChangeGroupUser=function(t,e,c){t.preventDefault();var n={token:e,group:c};g.a.defaults.xsrfCookieName="csrftoken",g.a.defaults.xsrfHeaderName="X-CSRFToken",g.a.defaults.withCredentials=!0;var s=localStorage.getItem("token");g.a.post("https://tractor-factory-interface.herokuapp.com/api/user/group/",{user:n},{headers:{Authorization:"Token ".concat(s),"Content-Type":"application/json"}}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},t.getUsers=t.getUsers.bind(Object(w.a)(t)),t.state={users:[]},t}return Object(o.a)(c,[{key:"componentDidMount",value:function(){var t=this;fetch(Z,{headers:{Authorization:"Token ".concat(localStorage.token),"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){t.setState({users:e.results})})),this.intervalGetUsers=setInterval(this.getUsers,2500)}},{key:"getUsers",value:function(){var t=Object(C.a)(A.a.mark((function t(){var e,c;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(Z,{headers:{Authorization:"Token ".concat(localStorage.token),"Content-Type":"application/json"}});case 2:return e=t.sent,t.next=5,e.json();case 5:c=t.sent,this.setState({users:c.results});case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalGetUsers)}},{key:"render",value:function(){var t=this,e="undefined"==typeof this.state.users?null:this.state.users;return Object(p.jsxs)("div",{children:[Object(p.jsxs)("body",{children:[Object(p.jsx)(B,{}),Object(p.jsxs)("div",{class:"row",children:[Object(p.jsx)("div",{children:Object(p.jsx)(I,{})}),Object(p.jsxs)("main",{class:"col-md-9 ms-sm-auto col-lg-10 px-md-4",children:[Object(p.jsxs)("div",{class:"chartjs-size-monitor",children:[Object(p.jsx)("div",{class:"chartjs-size-monitor-expand",children:Object(p.jsx)("div",{class:""})}),Object(p.jsx)("div",{class:"chartjs-size-monitor-shrink",children:Object(p.jsx)("div",{class:""})})]}),Object(p.jsx)("h1",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),Object(p.jsxs)("table",{className:"Table-Users",style:{borderColor:"black"},class:"table table-striped table-sm table-bordered",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{class:"text-center",children:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(p.jsx)("th",{class:"text-center",children:"\u041f\u043e\u0447\u0442\u0430"}),Object(p.jsx)("th",{class:"text-center",children:"\u0413\u0440\u0443\u043f\u043f\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})]})}),Object(p.jsx)("tbody",{className:"Table-body",children:null==e?Object(p.jsx)("p",{children:"Page is Loading ..."}):e.map((function(e,c){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.username}),Object(p.jsx)("td",{children:e.email}),Object(p.jsx)("td",{children:Object(p.jsxs)(X.a,{children:[Object(p.jsx)(X.a.Toggle,{variant:"secondary",children:e.groups[0]}),Object(p.jsxs)(X.a.Menu,{variant:"dark",children:[Object(p.jsx)(X.a.Item,{onClick:function(c){t.handleChangeGroupUser(c,e.token,"Admin")},children:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"}),Object(p.jsx)(X.a.Item,{onClick:function(c){t.handleChangeGroupUser(c,e.token,"Master")},children:"\u041c\u0430\u0441\u0442\u0435\u0440"}),Object(p.jsx)(X.a.Item,{onClick:function(c){t.handleChangeGroupUser(c,e.token,"Guest")},children:"\u0413\u043e\u0441\u0442\u044c"})]})]})})]})}))})]})]})]})]}),Object(p.jsx)("footer",{})]})}}]),c}(n.Component),K=Q,$=function(t){Object(l.a)(c,t);var e=Object(d.a)(c);function c(t){var n;return Object(i.a)(this,c),(n=e.call(this,t)).state={value:""},n}return Object(o.a)(c,[{key:"render",value:function(){return Object(p.jsx)(j.a,{children:Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)(b.d,{children:[Object(p.jsx)(b.b,{exact:!0,path:"/",component:y}),Object(p.jsx)(b.b,{exact:!0,path:"/unauthorized",component:V}),Object(p.jsx)(O,{exact:!0,path:"/monitoring",component:Y}),Object(p.jsx)(O,{exact:!0,path:"/register",component:G}),Object(p.jsx)(O,{exact:!0,path:"/config",component:J}),Object(p.jsx)(O,{exact:!0,path:"/users",component:K})]})})})}}]),c}(n.Component),tt=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,96)).then((function(e){var c=e.getCLS,n=e.getFID,s=e.getFCP,r=e.getLCP,a=e.getTTFB;c(t),n(t),s(t),r(t),a(t)}))};a.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)($,{})}),document.getElementById("root")),tt()}},[[91,1,2]]]);
//# sourceMappingURL=main.cdc8bb3e.chunk.js.map